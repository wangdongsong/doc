# 什么是风险管理

所有复杂系统都存在风险，它是所有系统不可避免的一个部分。不可能消除复杂系统中的所有风险，但检查风险并确定风险的接受程序，对于保持系统健康非常重要。

## 管理风险

风险管理包括：确定系统中风险的位置；确定哪些风险必须消除|可存在|可接受；如何降低留存风险的可能性和严重性。

**示例**
风险发生，系统会遭受损失，这些损失包括公司或用户的数据丢失；无法给用户提供服务；无效响应或错误的结果。
避免方法：建设多节点应用、异常双活等措施
投入成本：机器设备、费用等
评估：成本的投入能否避免风险再次发生以及投入的可性行。

**风险管理**：就是在消除风险的成本和风险发生的成本之间保持平衡。

## 识别风险

风险管理的第一步列出所有已知风险，以及它们的危害性和发生的可能性。

最初的风险模型的创建需要团队的头脑风暴，可以从以下几个来源收集风险：

* 开发人员的头脑风暴
* 已知的重点售后支持问题
* 已知的安全风险和漏洞
* 已知的系统不完善或缺失能力
* 已知的性能瓶颈点
* 已知的流量峰值和变化
* 业务负责人、支持人员和用户的特殊考虑
* 已知的系统技术债务

建立风险模型还包括：风险出现的可能性、造成的影响分配优先级。

## 消除最严重的风险

根据风险列表识别最重要的风险事项，一旦识别高危风险，将其加入风险计划中，并定期检查它们是否依然存在。

## 风险缓和

对于所有风险，不管它们是不是最危险的，我们都尽可能地去思考有无降低发生风险几率或影响程度的办法，这些办法称之为：**风险缓和措施**。

风险缓和措施的价值很高，重点发现那些即能够降低风险又易于实现或成本合理的措施。

## 定期检查

确证风险模型之后，需不定期检查和回顾。在每次出现事故之后也需要重新检查模型，是否存在已知风险能够正确覆盖所发生的事故。

检查风险模型时，以下三点：

* 首先检查最近新增和确定的风险，并将它们添加为新的事项，同时移除已不存在的风险事项。
* 其次检查风险的严重性和可能性的变化。通常，风险缓和措施会帮助降低风险的严重性和可能性；或上次检查之后，风险发生变化 ，需要根据实际情况去调整。
* 最后检查是否有新的或更新后的风险事项需要被加入到模型中。

## 小结

管理系统中的风险步骤：

* 识别风险：创建一个系统的已知风险列表，即风险模型，对各个事项排列优先级。
* 消息最严重的风险： 找出列表中最大的风险，制订相应的解决计划。
* 风险缓和：对于无法暂时解决的主要风险，制定一个缓和计划降低风险发生的可能性和严重性。
* 定期检查：定期检查风险模型。


# 可能性与严重性

所有风险以下两方面组成：

严重性：发生风险时，所需要付出的代价。
可能性：风险发生的几率

管理风险就是管理严重性和可能性两个方面。

**风险的重要程度**就是风险发生的严重性和可能性两者之和。为了降低风险，需要至少降低其中之一，或者严重性，或者可能性。

示例：

* Top10排序列表：低可能性，低严重性。即如果Top10列表有异常，对用户和系统影响不大。
* 订单数据库：低可能性，高严重性。订单数据为核心组件，一般使用RAC和高质量的硬件。但数据库仍为单点，异常时，核心业务无法开展。

# 风险模型

风险模型包含以下几项内容：

* 风险ID：风险唯一标识，可以是任意类型。
* 系统：包含风险的系统。
* 所有人：负责该风险的个人（或团队）的名称，同时也是负责制订该风险的缓和计划和解决计划。
* 风险描述：该风险的概要描述。
* 标识日期：识别该风险并将其添加到模型中的日期。
* 可能性：标识该风险发生的可能性（分低、中、高三级）。
* 严重性：标识该风险发生的严重性或影响（分低、中、高三级）。
* 风险缓和计划：描述可以使用的或正在使用的，用来降低该风险严重性或可能性的风险缓和措施。
* 状态：该风险当前所处状态，通常值：活跃、已缓和、正在修复、已解决。
* ETA：表示风险距离计划解决日期（如果有计划时间）的估计时间。
* 监控：表示你对该风险的发生进行了监控，如果是，则包含你实现监控的步骤。如果没有监控，则标明原因以及计划对监控的估计时间。
* 触发计划：表示如果该风险真的发生，计划如何处理它，触发计划通常是一个管理层面的计划，而不是一个事件-响应计划。
* 备注：记录任何不适合记录的风险描述
* 跟踪ID：如果有缺陷系统或里程碑跟踪管理系统来管理风险，可以记录访风险在系统中的ID
* 历史：记录该风险在过去是否已经发生、时间、频率等。

## 风险模型作用域

推荐每个团队一个风险模型，通常由团队来决定要完成的功能或问题、及优先级，所以应当从团队层面管理风险模型，由团队决定各项风险的优先级。

## 创建风险模型

可借助风险模型，例如http://bit.ly/architectbookdl， 可以任意修改。建议第一次使用模板。

### 通过头脑风暴建立风险列表

准备好模型之后，首先通过头脑风暴得到一份风险列表，应当将尽可能想到的风险列出来。以下是头脑风暴比较好的来源：

* 开发团队：与开发团队一起会议，聆听他们的担忧，并将它们作为风险项添加到列表中。
* 售后支持：是否存在高于正常的售后支持压力问题？支持论坛等。
* 安全威胁：思考已知的安全威胁和漏洞。
* 待完成的功能列表：是否存在系统健康所缺失的关键能力？检查与监控和维护有关的功能。
* 性能：性能瓶颈点
* 业务负责人：业务负责人的担忧与顾虑。
* 相关团队：包含内部用户、附属团队、QA。听取他们的建议。
* 系统和流程：有无编写相应的文档？遗漏系统功能相关的必要的文档或只存在于少数几个人的头脑中。
* 技术债务：没有已知的、明确的技术债务？已知的技术债务都是风险项。

### 填写可能性和严重性字段

遍历列表，填写每一项风险的可能性和严重性，可采用低、中、高（或类似）的值。先写可能性，再写严重性。

**备注：**与开发团队进行另一次头脑风暴完成此项任务。与之前的获取风险项的头脑风暴分开进行。

### 风险项详情

按模板填写风险项的其它信息，包括系统、所有人、日期等字段。

### 缓和计划

首先从严重性最高的风险项开始制订风险缓和计划，再从可能性最高的风险开始。

缓和计划：是指现在或即将准备为降低风险严重性或可能性所采取的措施。缓和计划并不是要消除计划，只是降低风险的严重性和可能性。

不需要为所有风险项制订风险缓和计划。有些风险必须要解决，不能只降低可能性或严重性。

### 触发计划


